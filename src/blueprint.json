{
    "$schema": "https://playground.wordpress.net/blueprint-schema.json",
    "login": true,
    "steps": [
        {
            "step": "activatePlugin",
            "pluginPath": "import-static-files/import-static-files.php"
        },
        {
            "step": "activatePlugin",
            "pluginPath": "store-markdown-as-post-meta/index.php"
        },
        {
            "step": "activatePlugin",
            "pluginPath": "save-pages-as-static-files/index.php"
        },
        {
            "step": "unzip",
            "zipFile": {
                "resource": "url",
                "url": "https://github-proxy.com/proxy/?repo=WordPress/wporg-mu-plugins&directory=mu-plugins"
            },
            "extractToPath": "/tmp"
        },
        {
            "step": "mv",
            "fromPath": "/tmp/mu-plugins",
            "toPath": "/wordpress/wp-content/mu-plugins"
        },
        {
            "step": "unzip",
            "zipFile": {
                "resource": "url",
                "url": "https://github-proxy.com/proxy/?repo=WordPress/wporg-parent-2021&directory=source/wp-content/themes/wporg-parent-2021"
            },
            "extractToPath": "/tmp"
        },
        {
            "step": "mv",
            "fromPath": "/tmp/source/wp-content/themes/wporg-parent-2021",
            "toPath": "/wordpress/wp-content/themes/wporg-parent-2021"
        },
        {
            "step": "mkdir",
            "path": "/wordpress/wp-content/themes/wporg-parent-2021/build"
        },
        {
            "step": "unzip",
            "zipFile": {
                "resource": "url",
                "url": "https://github-proxy.com/proxy/?repo=WordPress/wporg-developer-blog&directory=source/wp-content/themes/wporg-developer-blog"
            },
            "extractToPath": "/tmp"
        },
        {
            "step": "mv",
            "fromPath": "/tmp/source/wp-content/themes/wporg-developer-blog",
            "toPath": "/wordpress/wp-content/themes/wporg-developer-blog"
        },
        {
            "step": "activateTheme",
            "themeFolderName": "wporg-developer-blog"
        },
        {
            "step": "runPHP",
            "code": "<?php require '/wordpress/wp-load.php'; $GLOBALS['@pdo']->query('DELETE FROM wp_posts WHERE id > 0'); $GLOBALS['@pdo']->query(\"UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_posts'\");  $GLOBALS['@pdo']->query('DELETE FROM wp_postmeta WHERE post_id > 1'); $GLOBALS['@pdo']->query(\"UPDATE SQLITE_SEQUENCE SET SEQ=20 WHERE NAME='wp_postmeta'\"); $GLOBALS['@pdo']->query('DELETE FROM wp_comments'); $GLOBALS['@pdo']->query(\"UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_comments'\"); $GLOBALS['@pdo']->query('DELETE FROM wp_commentmeta'); $GLOBALS['@pdo']->query(\"UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_commentmeta'\"); "
        },
        {
            "step": "runPHP",
            "code": "<?php require '/wordpress/wp-load.php'; import_static_files_from_directory('/markdown'); "
        }
    ]
}
